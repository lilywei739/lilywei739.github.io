<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <meta name="robots" content="index,follow"/>
        <meta name="renderer" content="webkit" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui" />
        <meta name="keywords" content="JS基础--列表">
        <meta name="screen-orientation" content="portrait" />
        <meta name="full-screen" content="yes" />
        <meta name="browsermode" content="application" />
        <meta name="x5-orientation" content="portrait" />
        <meta name="x5-fullscreen" content="true" />
        <meta name="x5-page-mode" content="app" />
        <title>JS基础--列表</title>
        <link rel="shortcut icon" type="image/ico" href="/favicon.ico"/>
        <link rel="stylesheet" href="/css/common/github-gist.min.css">
        <link rel="stylesheet" href="/css/style.css">
        <!--[if lt IE 9]>
        <script src="/js/common/html5.js"></script>
        <![endif]-->
    </head>
    <body>
        <!-- HEADER -->
        <div id="header_wrap" class="outer">
            <header class="inner">
                <h1 id="project_title"><a href="/index.html">Weili - GitHub.io</a></h1>
                <h2 id="project_tagline"><a href="https://github.com/lilywei739/lilywei739.github.io" target="_blank">View on GitHub</a></h2>
            </header>
        </div>
            
        <div id="content-wrapper">
            <div class="main clearfix">
                <aside id="sidebar">
                    <ul class="side-nav">
                    </ul>
                </aside>

                <section id="main-cont">
                    <h1 id="列表">列表</h1>

<h5 id="什么是列表">什么是列表？</h5>

<blockquote>
  <p>列表是一组有序的数据。</p>
</blockquote>

<h5 id="什么时候使用列表">什么时候使用列表？</h5>

<ul>
  <li>数据不多时</li>
  <li>不需要查找元素</li>
  <li>不需要排序</li>
</ul>

<h5 id="列表的抽象数据类型定义">列表的抽象数据类型定义</h5>

<p><img src="http://0.0.0.0:4000/img/20171019/20171019-1.jpg" alt="列表的抽象数据类型定义" /></p>

<p>根据上面的表新建下面一个构造函数，后期还需要一些方法，用到的时候再去更新，现在下面一一的去实现：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function List() {
    this.listSize= 0;
    this.store= [];
    this.pos= 0;
    this.length= length;
    this.clear= clear;
    this.toString= toString;
    this.insert= insert;
    this.append= append;
    this.remove= remove;
    this.front= front;
    this.end= end;
    this.prev= prev;
    this.next= next;
    this.currPos= currPos;
    this.moveTo= moveTo;
}
</code></pre>
</div>

<ul>
  <li>向列表添加元素</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>function append(ele) {
    this.store[this.listSize++] = ele;
}
</code></pre>
</div>

<p>这里的自加很巧妙</p>

<ul>
  <li>从列表中删除元素</li>
</ul>

<p>删除元素的思路是，先遍历列表找到这个元素的索引值，然后用splice方法删除它，元素个数减1，所以这里增加一个方法find，用于返回被查找元素的索引值。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function List() {
    ...
    this.find = find;
}

function find(ele) {
	for (var i = 0; i &lt; this.store.length; i++) {
		if (this.store[i] === ele) {
			return i;
		}
	}
	return -1;
}

function remove(ele) {
    var num = this.find(ele);
    if (num &gt; -1) {
    	this.store.splice(num, 1);
    	--this.listSize;
    }
}

</code></pre>
</div>

<ul>
  <li>列表中有多少个元素</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>function length() {
    return this.listSize;
}
</code></pre>
</div>

<ul>
  <li>显示列表中的元素</li>
</ul>

<p>简单的返回一个数组</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function toString() {
    return this.dataStore;
}
</code></pre>
</div>

<ul>
  <li>向列表中插入一个元素</li>
</ul>

<p>插入元素的思路是，插入的位置，这个位置也可以用find方法来返回这个索引值。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function insert(ele, where) {
	var num = this.find(where);
	if (num &gt; -1) {
		this.store.splice(num, 0, ele);
		++this.listSize;
	}
}

</code></pre>
</div>

<ul>
  <li>清空列表中所有的元素</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>function clear() {
	delete this.store;
	this.store = [];
	this.listSize = this.pos = 0;
}
</code></pre>
</div>

<ul>
  <li>判断给定值是否在列表中</li>
</ul>

<p>增加contains方法</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function contains(ele) {
	for (var i = this.store.length - 1; i &gt;= 0; i--) {
		if (this.store[i] === ele) {
			return true;
		}
	}
	return false;
}
</code></pre>
</div>

<ul>
  <li>其它</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>function front() {
	this.pos = 0;
}


function end() {
	this.pos = this.store.length -1;
}

function prev() {
	if (this.pos &gt; 0) {
		--this.pos;
	}
}

function next() {
	if (this.pos &lt; this.store.length -1) {
		++this.pos;
	}
}

function currPos() {
	return this.pos;
}

function moveTo(num) {
	this.pos = num;
}
</code></pre>
</div>

<ul>
  <li>返回列表的当前元素</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>function getElement() {
	return this.store[this.pos];
}
</code></pre>
</div>

<p>OK，到目前为止，方法都写完了，new 一个实例看看：</p>

<p><img src="http://0.0.0.0:4000/img/20171019/20171019-2.jpg" alt="eg1" />
<img src="http://0.0.0.0:4000/img/20171019/20171019-3.jpg" alt="eg1" /></p>

<h5 id="使用迭代器访问列表">使用迭代器访问列表</h5>

<p>使用迭代器，可以不必关心数据的内部存储方式，以实现对列表的遍历。前面提到的方法 front()、end()、prev()、next() 和 currPos 就实现了 cList 类的一个迭代器。以下是和使 用数组索引的方式相比，使用迭代器的一些优点。</p>

<ul>
  <li>访问列表元素时不必关心底层的数据存储结构。</li>
  <li>当为列表添加一个元素时，索引的值就不对了，此时只用更新列表，而不用更新迭代器。</li>
  <li>可以用不同类型的数据存储方式实现cList类，迭代器为访问列表里的元素提供了一种统一的方式。</li>
</ul>


		<div class="PageNavigation">
		  
		    <a class="prev" href="/js/array/2017/10/11/Array.html">&laquo; JS基础--Array</a>
		  
		  
		</div>
		<!-- 多说评论框 start -->
        <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
        <!--
<div id="ds_ele" class="ds-thread" data-thread-key="" data-title="JS基础--列表" data-url="http://lilywei739.github.io/js/%E5%88%97%E8%A1%A8/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/2017/10/19/list.html"></div>
		    <script type="text/javascript">
                        var url = window.location.pathname;
                        url = url.substr(1, url.length -6).replace(/\//gi, '_');
                        document.getElementById('ds_ele').dataset.threadKey = url;
                        var duoshuoQuery = {short_name:"github"};
                        (function() {
                            var ds = document.createElement('script');
                            ds.type = 'text/javascript';ds.async = true;
                            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                            ds.charset = 'UTF-8';
                            (document.getElementsByTagName('head')[0] 
                            || document.getElementsByTagName('body')[0]).appendChild(ds);
                        })();

                    </script>
                    -->
		<!-- 多说公共JS代码 end -->
                </section>
            </div>
        </div>
            
        <!-- FOOTER  -->
        <div id="footer_wrap" class="outer">
            <footer class="inner">
                <p>© 2016  by Weili &nbsp;&nbsp;  |  &nbsp;&nbsp;托管在 - <a href="https://pages.github.com">GitHub</a></p>
            </footer>
        </div>
        <script src="/js/common/jquery-2.2.4.min.js"></script>
        <script src="/js/common/highlight.min.js"></script>
        <script src="/js/aside-nav.js"></script>
        <script>
            // baidu 统计
            var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "//hm.baidu.com/hm.js?146fe495fee020bf0e4dd701aa73965f";
                var s = document.getElementsByTagName("script")[0]; 
                s.parentNode.insertBefore(hm, s);
            })();
            // highlight
            hljs.initHighlightingOnLoad({useBR: true});
            $(document).ready(function() {
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });

                // http2
                var img = new Image();
                img.src = 'https://www.h2statistics.ml/';
            });
        </script>
    </body>
</html>
